# 📋 Vibe Olympics - 예정 작업 (TODO)

> 마지막 업데이트: 2025년 12월 9일
> 워크플로우: TODO.md 검토 → 작업 수행 → CHANGELOG.md 기록 → TEST_SPECS.md 작성

---

## 🔍 코드 점검 결과 (2025-12-09) - 세션 55 업데이트

### ✅ 정상 항목
| 항목 | 상태 | 비고 |
|------|------|------|
| 빌드 (npm run build) | ✅ 성공 | 모든 페이지 정상 빌드 |
| TypeScript (tsc --noEmit) | ✅ 통과 | 타입 에러 없음 |
| Jest 테스트 (61개) | ✅ 통과 | @types/react@18 다운그레이드로 해결 |
| 보안 점검 | ✅ 통과 | 하드코딩된 키 없음, .gitignore 정상 |
| API 라우트 (32개+) | ✅ 존재 | 부트페이 결제 API 추가 |
| 결제 시스템 | ✅ 부트페이 | Stripe 한국 미지원으로 부트페이 전환 |

### ⚠️ 남은 항목
| 항목 | 상태 | 설명 |
|------|------|------|
| ESLint 경고 | ⚠️ 45개 | 64개 → 45개로 감소. 대부분 img→Image 권장 |
| 환경변수 | ⏳ 대기 | Vercel 배포 후 설정 예정 |
| 부트페이 테스트 | ⏳ 대기 | 샌드박스 모드 활성화 후 테스트 필요 |

---

## ✅ 완료된 세션

### 세션 55 (2025-12-09): 부트페이 결제 시스템 구현 ✅
| 작업 ID | 작업명 | 상태 |
|---------|--------|------|
| S55-01 | 부트페이 SDK 설치 | ✅ @bootpay/client-js, @bootpay/backend-js |
| S55-02 | 클라이언트 라이브러리 생성 | ✅ src/lib/bootpay.ts (결제 요청, 검증) |
| S55-03 | 서버 API 라우트 생성 | ✅ verify, cancel, webhook 3개 API |
| S55-04 | 결제 수단 선택 컴포넌트 | ✅ BootpayPaymentSelector (7개 결제수단) |
| S55-05 | 상품 페이지 연동 | ✅ product-detail-content.tsx 업데이트 |
| S55-06 | README 문서 업데이트 | ✅ 환경변수 가이드 추가 |

### 세션 54 (2025-12-09): 코드 품질 개선 ✅
| 작업 ID | 작업명 | 상태 |
|---------|--------|------|
| S54-01 | ESLint 경고 정리 | ✅ 64개 → 45개 (미사용 import/변수 제거) |
| S54-02 | Jest 테스트 환경 수정 | ✅ @types/react@18 다운그레이드, 61개 테스트 통과 |
| S54-03 | 보안 키 노출 점검 | ✅ 하드코딩 없음, process.env 사용 확인 |
| S54-04 | input.tsx Hook 에러 수정 | ✅ useId 조건부 호출 수정 |
| S54-05 | notification-center.tsx 타입 수정 | ✅ any → eslint-disable 주석 추가 |

### 세션 53 (2025-12-09): Cloudflare → Vercel 배포 전환 ✅
| 작업 ID | 작업명 | 상태 |
|---------|--------|------|
| S47-01 | API 보안 종합 테스트 (16개) | ✅ 100% 통과 |
| S47-02 | 다국어 페이지 테스트 (4개) | ✅ 모두 200 |
| S47-03 | 성능 테스트 (5개 API) | ✅ 웜업 후 100-400ms |

### 세션 46 (2025-12-08): 알림/팔로우/댓글/리뷰 API 테스트 ✅
| 작업 ID | 작업명 | 상태 |
|---------|--------|------|
| S46-01 | 알림 API 보안 테스트 (3개) | ✅ 모두 통과 |
| S46-02 | 팔로우 API 보안 테스트 (5개) | ✅ 모두 통과 |
| S46-03 | 댓글/리뷰/반응 API 테스트 (8개) | ✅ 공개/인증 구분 확인 |

### 세션 45 (2025-12-08): 판매자/분석/정산 API 보안 테스트 ✅
| 작업 ID | 작업명 | 상태 |
|---------|--------|------|
| S45-01 | 상품 CRUD API 보안 테스트 (2개) | ✅ 모두 401 |
| S45-02 | 분석/추천 API 테스트 (4개) | ✅ 공개/비공개 구분 확인 |
| S45-03 | 정산/환불/Admin/Export API (15개) | ✅ 모두 401 |

### 세션 44 (2025-12-08): 인증 및 결제 API 테스트 ✅
| 작업 ID | 작업명 | 상태 |
|---------|--------|------|
| S44-01 | NextAuth API 테스트 (3개) | ✅ 모두 통과 |
| S44-02 | Stripe/PortOne 결제 보안 테스트 (4개) | ✅ 모두 401/400 |
| S44-03 | 구매 관련 페이지 테스트 (3개) | ✅ 모두 200 |

### 세션 43 (2025-12-08): 페이지네이션 유효성 검사 + API 테스트 ✅
| 작업 ID | 작업명 | 상태 |
|---------|--------|------|
| S43-01 | 음수 페이지 에러 수정 (5개 API) | ✅ 모두 400 반환 |
| S43-02 | 커뮤니티 API 테스트 | ✅ 통과 |
| S43-03 | 통합 댓글 API 테스트 | ✅ 통과 |

### 세션 42 (2025-12-08): 에러 처리 및 검색 API 테스트 ✅
| 작업 ID | 작업명 | 상태 |
|---------|--------|------|
| S42-01 | 404 응답 테스트 (4개) | ✅ 모두 통과 |
| S42-02 | 경계 조건 테스트 (2개) | ⚠️ 1개 이슈 (음수 페이지 500) |
| S42-03 | 검색 API 테스트 (4개) | ✅ 모두 통과 |

### 세션 41 (2025-12-08): 인증 필요 API 보안 테스트 ✅
| 작업 ID | 작업명 | 상태 |
|---------|--------|------|
| S41-01 | 위시리스트 API 보안 (TC-API-012, 013) | ✅ 401 확인 |
| S41-02 | 구매 내역 API 보안 (TC-API-014) | ✅ 401 확인 |
| S41-03 | 리뷰 API 보안 (TC-API-015) | ✅ 401 확인 |
| S41-04 | 팔로우 API 보안 | ✅ 401 확인 |
| S41-05 | 알림 API 보안 | ✅ 401 확인 |
| S41-06 | 프로필 API 보안 | ✅ 401 확인 |

### 세션 40 (2025-12-08): 상품/판매자/튜토리얼 API 테스트 ✅
| 작업 ID | 작업명 | 상태 |
|---------|--------|------|
| S40-01 | 상품 목록 API (TC-API-004) | ✅ 통과 |
| S40-02 | 상품 상세 API (TC-API-005) | ✅ 통과 |
| S40-03 | 판매자 프로필 API (TC-API-006) | ✅ 통과 |
| S40-04 | 튜토리얼 목록 API (TC-API-007) | ✅ 통과 |
| S40-05 | 튜토리얼 상세 API (TC-API-008) | ✅ 통과 |

### 세션 39 (2025-12-08): 인증 기능 테스트 ✅
| 작업 ID | 작업명 | 상태 |
|---------|--------|------|
| S39-01 | 인증 페이지 테스트 (5개) | ✅ 100% 통과 |
| S39-02 | NextAuth API 테스트 (3개) | ✅ 100% 통과 |
| S39-03 | 폼 요소 검증 (2개) | ✅ 100% 통과 |

### 세션 38 (2025-12-08): 역할별 수동 테스트 실행 ✅
| 작업 ID | 작업명 | 상태 |
|---------|--------|------|
| S38-01 | 방문자(Visitor) 테스트 (11개) | ✅ 100% 통과 |
| S38-02 | API 테스트 (6개) | ✅ 100% 통과 |
| S38-03 | TEST_SPECS.md 결과 업데이트 | ✅ 완료 |

### 세션 37 (2025-12-08): 마이그레이션 검증 + API 테스트 ✅
| 작업 ID | 작업명 | 상태 |
|---------|--------|------|
| S37-01 | 코드 검증 (4개 API 파일) | ✅ 완료 |
| S37-02 | 번역 파일 검증 | ✅ 완료 |
| S37-03 | 빌드 테스트 | ✅ 완료 |
| S37-04 | API 런타임 테스트 (17개 엔드포인트) | ✅ 완료 |

### 세션 36 (2025-12-08): Like → Reaction 마이그레이션 ✅
| 작업 ID | 작업명 | 상태 |
|---------|--------|------|
| S36-01 | Like → Reaction 마이그레이션 | ✅ 완료 |
| S36-02 | 마이그레이션 검증 (빌드 테스트) | ✅ 완료 |
| S36-03 | 다국어 키 확장 (analytics) | ✅ 완료 |

---

### 세션 53 (2025-12-09): Cloudflare → Vercel 배포 전환 ✅
| 작업 ID | 작업명 | 상태 |
|---------|--------|------|
| S53-01 | Cloudflare Pages 설정 시도 | ⚠️ Edge Runtime 호환성 문제 |
| S53-02 | Vercel 배포로 전환 결정 | ✅ Prisma/NextAuth 호환성 이유 |
| S53-03 | Cloudflare 설정 백업 | ✅ `.cloudflare-backup/` 폴더로 이동 |
| S53-04 | 불필요 패키지 제거 | ✅ @opennextjs/cloudflare, wrangler 삭제 |
| S53-05 | Vercel 프로젝트 등록 | ⏳ 1일 배포 제한으로 대기 중 |

### 세션 52 (2025-12-08): 프로덕션 배포 준비 ✅
| 작업 ID | 작업명 | 상태 |
|---------|--------|------|
| S52-01 | 환경변수 점검 | ✅ .env.example 업데이트 |
| S52-02 | Vercel 배포 가이드 | ✅ README 추가 |
| S52-03 | 도메인 설정 가이드 | ✅ CHANGELOG 기록 |
| S52-04 | 검색 콘솔 등록 가이드 | ✅ CHANGELOG 기록 |

### 세션 51 (2025-12-08): DB 마이그레이션 + E2E 테스트 ✅
| 작업 ID | 작업명 | 상태 |
|---------|--------|------|
| S51-01 | Prisma DB Push | ✅ 예약 발행 필드 적용 |
| S51-02 | Playwright E2E 테스트 | ✅ 24개 모두 통과 |
| S51-03 | 테스트 코드 개선 | ✅ 로케이터, 타임아웃 수정 |

### 세션 50 (2025-12-08): 자동 글 발행 API + 테스트 ✅
| 작업 ID | 작업명 | 상태 |
|---------|--------|------|
| S50-01 | 자동 글 발행 API 준비 | ✅ /api/content/auto 구현 |
| S50-02 | 컨텐츠 스케줄러 준비 | ✅ /api/content/scheduler + Prisma 스키마 |
| S50-03 | 타입 체크 | ✅ tsc --noEmit 통과 |
| S50-04 | Jest 단위 테스트 | ✅ 61개 테스트 통과 |

### 세션 49 (2025-12-08): 광고/배너 슬롯 + RSS 피드 준비 ✅
| 작업 ID | 작업명 | 상태 |
|---------|--------|------|
| S49-01 | 광고 슬롯 컴포넌트 생성 | ✅ AdSlot, AdSlotWrapper, StickyBottomAd |
| S49-02 | 레이아웃 광고 위치 준비 | ✅ Footer 배너 영역 추가 |
| S49-03 | RSS 피드 API 구현 | ✅ /api/feed/rss (RSS 2.0) |
| S49-04 | Atom 피드 API 구현 | ✅ /api/feed/atom (Atom 1.0) |

### 세션 48 (2025-12-08): SEO/검색 노출 최적화 ✅
| 작업 ID | 작업명 | 상태 |
|---------|--------|------|
| S48-01 | robots.ts 어드민 차단 | ✅ /admin/, /auth/reset-password 추가 |
| S48-02 | sitemap.ts 개선 | ✅ 판매자 프로필 추가, 삭제 게시글 제외 |
| S48-03 | 메타 키워드 확장 | ✅ 18개 키워드, Google/Naver 인증 |
| S48-04 | 동적 콘텐츠 SEO 자동화 | ✅ 상품 JSON-LD, OpenGraph 강화 |

---

## 🔜 다음 세션 예정 작업

### 세션 55: Vercel 배포 완료 및 검증
| 작업 ID | 작업명 | 설명 | 우선순위 |
|---------|--------|------|----------|
| S55-01 | Vercel 배포 확인 | 쿨타임 해제 후 배포 상태 확인 | 🔴 높음 |
| S55-02 | 환경변수 설정 | Vercel Dashboard에서 필수 변수 설정 | 🔴 높음 |
| S55-03 | 배포 후 API 테스트 | 프로덕션 엔드포인트 검증 | 🟡 중간 |
| S55-04 | 도메인 연결 | 커스텀 도메인 설정 (선택) | 🟢 낮음 |

---

## 📌 대기 중인 작업 (Backlog)

### 🔴 우선순위 높음

| 작업 ID | 작업명 | 설명 | 관련 파일 |
|---------|--------|------|----------|
| BACK-01 | Anthropic API 크레딧 충전 | AI 챗봇 활성화 필요 | `.env` |
| BACK-02 | Stripe 실결제 테스트 | 프로덕션 배포 전 필수 | 결제 API |
| BACK-03 | Resend 도메인 인증 | 이메일 발송 테스트 | `src/lib/email.ts` |
| BACK-04 | Vercel 환경변수 설정 | 프로덕션 배포 필수 (11개) | Vercel Dashboard |

### 🟡 우선순위 중간

| 작업 ID | 작업명 | 설명 | 관련 파일 |
|---------|--------|------|----------|
| BACK-05 | **광고 슬롯 재구성 (세션49)** | 728x90 배너 → 3D 애니메이션+텍스트 방식으로 전환. AI 활용 지식 마켓 정체성에 맞게 AI 기반 3D 요소로 디자인과 광고효과 동시 달성. 전체 페이지 완성 후 재설계 | `src/components/ads/` |
| BACK-06 | PWA 오프라인 지원 | Service Worker 강화 | `public/sw.js` |
| BACK-07 | 상품 번들 판매 | 여러 상품 묶음 판매 | 새 모델 필요 |
| BACK-08 | 쿠폰/할인 시스템 | 프로모션 기능 | 새 모델 필요 |
| BACK-09 | Context7 MCP 자동 글 발행 | 외부 API 연동 자동 발행 | `src/app/api/content/auto` |
| BACK-10 | 도메인 연결 | 커스텀 도메인 설정 (Vercel) | Vercel Dashboard |

### 🟢 우선순위 낮음

| 작업 ID | 작업명 | 설명 | 관련 파일 |
|---------|--------|------|----------|
| BACK-11 | GA4 연동 | Google Analytics 4 | `gtag.js` |
| BACK-12 | A/B 테스트 프레임워크 | 전환율 최적화 | 새 구현 필요 |
| BACK-13 | 검색 콘솔 등록 | Google/Naver/Bing 검색 콘솔 | sitemap 제출 |
| BACK-14 | ESLint img→Image 변환 | Next.js Image 컴포넌트로 교체 (5개 파일) | 해당 컴포넌트 |

---

## ⚠️ 기술 부채 (Tech Debt)

| 항목 | 설명 | 영향도 |
|------|------|--------|
| React 타입 버전 불일치 | react@18 + @types/react@19 혼용 | Jest 테스트 6개 실패 |
| ESLint 미사용 변수 | 64개 경고 (빌드는 정상) | 코드 품질 저하 |
| img 태그 사용 | 5개 파일에서 next/image 미사용 | LCP 성능 저하 가능 |

---

## 🚀 프로덕션 배포 체크리스트

> ⚠️ 모든 기능 완료 후 진행

### 배포 전 필수 조건
- [ ] 자동 테스트 커버리지 70% 이상
- [ ] 수동 테스트 70% 이상 완료
- [ ] Stripe 실결제 테스트 완료
- [ ] Resend 이메일 발송 테스트 완료
- [ ] Sentry 에러 모니터링 확인

### 환경변수 설정 (Production)
- [ ] `NEXTAUTH_URL` → 프로덕션 도메인
- [ ] `STRIPE_SECRET_KEY` → Live 키
- [ ] `STRIPE_WEBHOOK_SECRET` → 프로덕션 웹훅
- [ ] `FROM_EMAIL` → 인증된 도메인

---

## 📝 작업 진행 규칙

### 1. 세션 시작 시
```
1. TODO.md 검토
2. 해당 세션 작업 항목 확인
3. 작업 지시 수령
```

### 2. 세션 진행 중
```
1. 작업 수행
2. 빌드 테스트 (`npm run build`)
3. 에러 수정
```

### 3. 세션 완료 시
```
1. CHANGELOG.md에 완료 내역 기록
2. TEST_SPECS.md에 테스트 케이스 작성
3. TODO.md에서 완료 항목 제거/이동
```

---

*이 파일은 작업 시작 시 참고용입니다.*
